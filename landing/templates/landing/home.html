{% extends "landing/base.html" %}
{% load static %}

{% block content %}
  <main>
    <section class="hero hero--has-bg" style="background-image: linear-gradient(120deg, rgba(11, 19, 36, 0.92), rgba(11, 19, 36, 0.6)), url('{% static hero.bg_image %}');">
      <div class="container hero__inner">
        <div class="hero__content">
          <span class="hero__tag">{{ hero.tag }}</span>
          <h1>{{ hero.title }}</h1>
          <p>{{ hero.subtitle }}</p>
          <div class="hero__actions">
            <a class="btn-solid" href="{{ hero.cta_primary_url }}">{{ hero.cta_primary_text }}</a>
            <a class="btn-outline" href="{{ hero.cta_secondary_url }}">{{ hero.cta_secondary_text }}</a>
          </div>
          <div class="hero__meta">
            {% for item in hero.meta %}
              <div>
                <strong>{{ item.value }}</strong>
                <span>{{ item.label }}</span>
              </div>
            {% endfor %}
          </div>
        </div>
        <div class="hero__visual">
          <div class="hero__panel">
            <img class="hero__panel-image" src="{% static hero.panel_image %}" alt="Proyecto">
            <div class="hero__panel-card">
              <h4>{{ hero.panel_title }}</h4>
              <p>{{ hero.panel_text }}</p>
              <div class="hero__bar"><span></span></div>
              <small>{{ hero.panel_footer }}</small>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="section section--stats" id="estadisticas">
      <div class="container">
        <div class="section__header">
          <h2>Indicadores de confianza</h2>
          <p>Datos clave que resumen la trazabilidad y el control operativo del portfolio.</p>
        </div>
        <div class="stats-grid">
          {% for item in estadisticas %}
            <article class="stat-tile">
              <p class="stat-tile__label">{{ item.label }}</p>
              <h3>{{ item.value }}</h3>
              <span class="stat-tile__detail">{{ item.detail }}</span>
            </article>
          {% endfor %}
        </div>
      </div>
    </section>

    <section class="section" id="solucion">
      <div class="container">
        <div class="section__header">
          <h2>Una plataforma, toda la operación</h2>
          <p>Centraliza inversión, documentación y métricas sin perder velocidad.</p>
        </div>
        <div class="grid">
          {% for seccion in secciones %}
            <article class="card">
              <div class="card__icon">
                <i class="bi {{ seccion.icon }}"></i>
              </div>
              <h3>{{ seccion.title }}</h3>
              <p>{{ seccion.text }}</p>
            </article>
          {% endfor %}
        </div>
      </div>
    </section>

    <section class="section" id="proyectos">
      <div class="container">
        <div class="section__header">
          <h2>Proyectos</h2>
          <p>Presentación de operaciones con resultados económicos destacados.</p>
        </div>
        <div class="project-grid">
          {% for proyecto in proyectos %}
            <article class="project-card">
              <div class="project-card__media">
                <div class="project-card__media-bg" style="background-image: linear-gradient(160deg, rgba(13, 22, 40, 0.65), rgba(13, 22, 40, 0.25)), url('{% static proyecto.imagen %}');"></div>
                <div class="project-card__badge">{{ proyecto.anio }}</div>
              </div>
              <div class="project-card__body">
                <p class="project-card__eyebrow">Nuevo proyecto de inversión</p>
                <h3>{{ proyecto.titulo }}</h3>
                <p class="project-card__location">{{ proyecto.ubicacion }}</p>
                <div class="project-card__metrics">
                  <div>
                    <span>Operación</span>
                    <strong>{{ proyecto.plazo }}</strong>
                  </div>
                  <div>
                    <span>Rentabilidad estimada</span>
                    <strong>{{ proyecto.rentabilidad }}</strong>
                  </div>
                  <div>
                    <span>Accede a partir de</span>
                    <strong>{{ proyecto.acceso_minimo }}</strong>
                  </div>
                  <div>
                    <span>Inversión total</span>
                    <strong>{{ proyecto.inversion_total }}</strong>
                  </div>
                  <div>
                    <span>Beneficio estimado</span>
                    <strong>{{ proyecto.beneficio_estimado }}</strong>
                  </div>
                </div>
                <span class="project-card__tag">{{ proyecto.estado }}</span>
              </div>
            </article>
          {% endfor %}
        </div>
      </div>
    </section>

    <section class="section" id="quienes-somos">
      <div class="container">
        <div class="section__split">
          <div>
            <h2>Quienes somos</h2>
            <p>{{ quienes_somos.intro }}</p>
            <p>{{ quienes_somos.historia }}</p>
            <p>{{ quienes_somos.equipo }}</p>
            <p>{{ quienes_somos.valores }}</p>
          </div>
          <div class="stat-card">
            <div>
              <span>Equipo</span>
              <strong>Operativo + Inversión</strong>
            </div>
            <div>
              <span>Foco</span>
              <strong>Transparencia total</strong>
            </div>
            <div>
              <span>Metodo</span>
              <strong>Datos + control</strong>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="section section--dark" id="trazabilidad">
      <div class="container">
        <div class="section__split">
          <div>
            <h2>{{ transparencia.titulo }}</h2>
            <p>{{ transparencia.texto }}</p>
            <ul class="feature-list">
              {% for item in transparencia.features %}
                <li>{{ item }}</li>
              {% endfor %}
            </ul>
          </div>
          <div class="stat-card">
            {% for stat in transparencia.stats %}
              <div>
                <span>{{ stat.label }}</span>
                <strong>{{ stat.value }}</strong>
              </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </section>

    <section class="section" id="reseñas">
      <div class="container">
        <div class="section__header">
          <h2>Google Business & opiniones</h2>
          <p>Historias reales de inversores que confían en nuestro método.</p>
        </div>
        <div class="reviews-grid">
          {% for review in reseñas %}
            <article class="review-card">
              <div class="review-card__header">
                <span class="review-card__name">{{ review.nombre }}</span>
                <span class="review-card__stars">★★★★★</span>
              </div>
              <p>{{ review.texto }}</p>
            </article>
          {% endfor %}
        </div>
        <div class="review-cta">
          <a class="btn-outline" href="#" aria-disabled="true">Ver reseñas en Google (próximamente)</a>
        </div>
      </div>
    </section>

    <section class="section section--sponsors" id="patrocinadores">
      <div class="container">
        <div class="section__header">
          <h2>Patrocinadores y colaboradores</h2>
          <p>Alianzas estratégicas que fortalecen nuestra operación.</p>
        </div>
        <div class="sponsor-grid">
          {% for item in patrocinadores %}
            <div class="sponsor-logo">
              <img src="{% static item.src %}" alt="{{ item.alt }}">
            </div>
          {% endfor %}
        </div>
      </div>
    </section>

    <section class="section" id="noticias">
      <div class="container">
        <div class="section__header">
          <h2>Noticias y novedades</h2>
          <p>Actualizaciones del mercado, inversiones y operaciones relevantes.</p>
        </div>
        <div class="news-grid">
          {% for noticia in noticias %}
            <article class="news-card">
              <div class="news-card__header">
                <span>{{ noticia.fecha_publicacion|date:"d M Y" }}</span>
                <span>{{ noticia.autor|default:"Equipo Inversure" }}</span>
              </div>
              {% if noticia.slug %}
                <h3><a href="{% url 'landing:noticia_detail' noticia.slug %}">{{ noticia.titulo }}</a></h3>
              {% else %}
                <h3>{{ noticia.titulo }}</h3>
              {% endif %}
              <p>{{ noticia.extracto|default:noticia.cuerpo|truncatewords:26 }}</p>
            </article>
          {% empty %}
            <div class="news-card">
              <h3>Próximamente</h3>
              <p>Estamos preparando nuevas publicaciones para mejorar el contenido SEO.</p>
            </div>
          {% endfor %}
        </div>
      </div>
    </section>
  </main>
{% endblock %}
