{% extends "landing/base.html" %}

{% block content %}
  <section class="section">
    <div class="container">
      <div class="section__header">
        <h2>Noticias</h2>
        <p>Contenido para inversores y novedades del mercado.</p>
      </div>
      <div class="news-grid">
        {% for noticia in noticias %}
          <article class="news-card">
            <div class="news-card__header">
              <span>{{ noticia.fecha_publicacion|date:"d M Y" }}</span>
              <span>{{ noticia.autor|default:"Equipo Inversure" }}</span>
            </div>
            {% if noticia.slug %}
              <h3><a href="{% url 'landing:noticia_detail' noticia.slug %}">{{ noticia.titulo }}</a></h3>
            {% else %}
              <h3>{{ noticia.titulo }}</h3>
            {% endif %}
            <p>{{ noticia.extracto|default:noticia.cuerpo|truncatewords:30 }}</p>
          </article>
        {% empty %}
          <div class="news-card">
            <h3>Sin publicaciones</h3>
            <p>Muy pronto a√±adiremos nuevas noticias.</p>
          </div>
        {% endfor %}
      </div>
    </div>
  </section>
{% endblock %}
