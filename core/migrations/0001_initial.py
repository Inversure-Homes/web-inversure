# Generated by Django 4.2.27 on 2026-01-05 21:11

from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Cliente',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo_persona', models.CharField(choices=[('F', 'Persona física'), ('J', 'Persona jurídica')], default='F', max_length=1)),
                ('nombre', models.CharField(help_text='Nombre completo o razón social', max_length=255)),
                ('dni_cif', models.CharField(max_length=20, unique=True)),
                ('email', models.EmailField(blank=True, max_length=254, null=True)),
                ('telefono', models.CharField(blank=True, max_length=30, null=True)),
                ('iban', models.CharField(blank=True, help_text='IBAN del cliente (opcional)', max_length=34, null=True)),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('fecha_introduccion', models.DateField(default=django.utils.timezone.now, help_text='Fecha de alta del cliente en el sistema')),
                ('direccion_postal', models.TextField(blank=True, help_text='Dirección postal completa del cliente', null=True)),
                ('cuota_abonada', models.BooleanField(default=False, help_text='Indica si el cliente ha abonado la cuota')),
                ('presente_en_comunidad', models.BooleanField(default=False, help_text='Indica si el cliente está presente en la comunidad')),
                ('creado', models.DateTimeField(auto_now_add=True)),
                ('actualizado', models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name='DocumentoProyecto',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo', models.CharField(choices=[('escritura', 'Escritura'), ('nota_simple', 'Nota simple'), ('contrato', 'Contrato'), ('tasacion', 'Tasación'), ('otros', 'Otros')], max_length=30)),
                ('archivo', models.FileField(upload_to='proyectos_documentos/%Y/%m/')),
                ('nombre_original', models.CharField(blank=True, max_length=255, null=True)),
                ('fecha_documento', models.DateField(blank=True, null=True)),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('creado', models.DateTimeField(auto_now_add=True)),
            ],
        ),
        migrations.CreateModel(
            name='Estudio',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('codigo_estudio', models.PositiveIntegerField(blank=True, help_text='Código interno visible del estudio (contador propio)', null=True, unique=True)),
                ('nombre', models.CharField(max_length=255)),
                ('direccion', models.CharField(blank=True, max_length=255, null=True)),
                ('ref_catastral', models.CharField(blank=True, max_length=50, null=True)),
                ('valor_referencia', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('datos', models.JSONField()),
                ('valor_adquisicion', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('beneficio', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('roi', models.DecimalField(blank=True, decimal_places=2, max_digits=6, null=True)),
                ('creado', models.DateTimeField(auto_now_add=True)),
                ('actualizado', models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name='Simulacion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(help_text='Nombre identificativo de la simulación', max_length=255)),
                ('fecha', models.DateField(default=django.utils.timezone.now, help_text='Fecha de creación de la simulación')),
                ('direccion', models.CharField(blank=True, max_length=255, null=True)),
                ('lat', models.FloatField(blank=True, help_text='Latitud del inmueble (geolocalización)', null=True)),
                ('lon', models.FloatField(blank=True, help_text='Longitud del inmueble (geolocalización)', null=True)),
                ('ref_catastral', models.CharField(blank=True, max_length=50, null=True)),
                ('precio_compra', models.DecimalField(decimal_places=2, help_text='Precio estimado de compra del inmueble', max_digits=12)),
                ('precio_venta_estimado', models.DecimalField(decimal_places=2, help_text='Precio estimado de venta del inmueble', max_digits=12)),
                ('gastos_estimados', models.DecimalField(decimal_places=2, default=0, help_text='Gastos estimados globales (simplificados)', max_digits=12)),
                ('beneficio_estimado', models.DecimalField(blank=True, decimal_places=2, help_text='Beneficio estimado de la simulación', max_digits=12, null=True)),
                ('roi_estimado', models.DecimalField(blank=True, decimal_places=2, help_text='ROI estimado (%)', max_digits=6, null=True)),
                ('inversion_total', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('beneficio', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('roi', models.DecimalField(blank=True, decimal_places=2, max_digits=6, null=True)),
                ('viable', models.BooleanField(default=False, help_text='Indica si la simulación supera los criterios de viabilidad')),
                ('convertida', models.BooleanField(default=False, help_text='Indica si la simulación ya ha sido convertida en proyecto')),
                ('creado', models.DateTimeField(auto_now_add=True)),
                ('actualizado', models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name='Proyecto',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=255)),
                ('fecha', models.DateField(blank=True, null=True)),
                ('direccion', models.CharField(blank=True, help_text='Dirección del inmueble del proyecto', max_length=255, null=True)),
                ('lat', models.FloatField(blank=True, help_text='Latitud del inmueble (geolocalización)', null=True)),
                ('lon', models.FloatField(blank=True, help_text='Longitud del inmueble (geolocalización)', null=True)),
                ('precio_propiedad', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('precio_compra_inmueble', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('fecha_compra', models.DateField(blank=True, help_text='Fecha real de adquisición del inmueble', null=True)),
                ('tipo_adquisicion', models.CharField(blank=True, choices=[('directa', 'Compra directa'), ('deuda', 'Compra de deuda'), ('subasta', 'Subasta'), ('dacion', 'Dación en pago')], help_text='Tipo de adquisición del inmueble', max_length=20, null=True)),
                ('precio_venta_estimado', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('ref_catastral', models.CharField(blank=True, max_length=50, null=True)),
                ('valor_referencia', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('itp', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('impuesto_tipo', models.CharField(blank=True, help_text='Tipo de impuesto aplicado (ITP / IVA)', max_length=10, null=True)),
                ('impuesto_porcentaje', models.DecimalField(blank=True, decimal_places=2, help_text='Porcentaje de impuesto aplicado', max_digits=5, null=True)),
                ('notaria', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('registro', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('otros_gastos_compra', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('reforma', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('limpieza_inicial', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('mobiliario', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('otros_puesta_marcha', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('obra_demoliciones', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=12, null=True)),
                ('obra_albanileria', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=12, null=True)),
                ('obra_fontaneria', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=12, null=True)),
                ('obra_electricidad', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=12, null=True)),
                ('obra_carpinteria_interior', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=12, null=True)),
                ('obra_carpinteria_exterior', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=12, null=True)),
                ('obra_cocina', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=12, null=True)),
                ('obra_banos', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=12, null=True)),
                ('obra_pintura', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=12, null=True)),
                ('obra_otros', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=12, null=True)),
                ('cerrajero', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=12, null=True)),
                ('alarma', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=12, null=True)),
                ('comunidad', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('ibi', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('seguros', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('suministros', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('limpieza_periodica', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('ocupas', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('gestion_comercial', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('gestion_administracion', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('plusvalia', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('inmobiliaria', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('val_idealista', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('val_fotocasa', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('val_registradores', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('val_casafari', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('val_tasacion', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('media_valoraciones', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('meses', models.PositiveIntegerField(blank=True, help_text='Duración estimada de la operación en meses', null=True)),
                ('beneficio_bruto', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('beneficio_neto', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=12, null=True)),
                ('roi', models.DecimalField(blank=True, decimal_places=2, default=None, max_digits=6, null=True)),
                ('capital_objetivo', models.DecimalField(blank=True, decimal_places=2, help_text='Capital total que se desea captar para el proyecto', max_digits=12, null=True)),
                ('inversion_completa', models.BooleanField(default=False, help_text='Indica si la inversión del proyecto está completamente cubierta')),
                ('estado', models.CharField(choices=[('estudio', 'En estudio'), ('reservado', 'Reservado'), ('comprado', 'Comprado'), ('operacion', 'En operación'), ('vendido', 'Vendido'), ('descartado', 'Descartado')], default='estudio', max_length=20)),
                ('aprobado', models.BooleanField(default=False, help_text='Indica si el proyecto ha sido aprobado por el comité')),
                ('pdf_aprobado', models.FileField(blank=True, help_text='PDF oficial aprobado del proyecto', null=True, upload_to='proyectos_aprobados/')),
                ('fecha_aprobacion', models.DateTimeField(blank=True, help_text='Fecha y hora de aprobación del proyecto', null=True)),
                ('creado', models.DateTimeField(auto_now_add=True)),
                ('actualizado', models.DateTimeField(auto_now=True)),
                ('simulacion_origen', models.ForeignKey(blank=True, help_text='Simulación de la que procede este proyecto (si aplica)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='proyectos_generados', to='core.simulacion')),
            ],
        ),
        migrations.CreateModel(
            name='PresupuestoProyecto',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('concepto', models.CharField(help_text='Concepto del gasto o ingreso presupuestado', max_length=255)),
                ('categoria', models.CharField(blank=True, max_length=50, null=True)),
                ('importe_previsto', models.DecimalField(decimal_places=2, help_text='Importe estimado del concepto', max_digits=12)),
                ('creado', models.DateTimeField(auto_now_add=True)),
                ('actualizado', models.DateTimeField(auto_now=True)),
                ('proyecto', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='presupuesto', to='core.proyecto')),
            ],
            options={
                'ordering': ['id'],
            },
        ),
        migrations.CreateModel(
            name='Participacion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('importe_invertido', models.DecimalField(decimal_places=2, help_text='Cantidad aportada por el cliente al proyecto', max_digits=12)),
                ('porcentaje_participacion', models.DecimalField(blank=True, decimal_places=2, help_text='Porcentaje de participación sobre el total invertido', max_digits=6, null=True)),
                ('creado', models.DateTimeField(auto_now_add=True)),
                ('actualizado', models.DateTimeField(auto_now=True)),
                ('cliente', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='participaciones', to='core.cliente')),
                ('proyecto', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='participaciones', to='core.proyecto')),
            ],
        ),
        migrations.CreateModel(
            name='MovimientoProyecto',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo', models.CharField(choices=[('gasto', 'Gasto'), ('ingreso', 'Ingreso')], max_length=10)),
                ('concepto', models.CharField(max_length=255)),
                ('fecha', models.DateField()),
                ('importe', models.DecimalField(decimal_places=2, max_digits=12)),
                ('documento', models.FileField(blank=True, null=True, upload_to='movimientos_proyecto/%Y/%m/')),
                ('creado', models.DateTimeField(auto_now_add=True)),
                ('proyecto', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='movimientos', to='core.proyecto')),
            ],
            options={
                'ordering': ['fecha', 'id'],
            },
        ),
        migrations.CreateModel(
            name='MovimientoEconomicoProyecto',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo', models.CharField(choices=[('operacion', 'Operación'), ('ingreso', 'Ingreso'), ('comercializacion', 'Comercialización')], max_length=20)),
                ('subtipo', models.CharField(blank=True, max_length=50, null=True)),
                ('concepto', models.CharField(max_length=255)),
                ('fecha', models.DateField()),
                ('importe', models.DecimalField(decimal_places=2, max_digits=12)),
                ('creado', models.DateTimeField(auto_now_add=True)),
                ('documento', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.documentoproyecto')),
                ('proyecto', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='movimientos_economicos', to='core.proyecto')),
            ],
            options={
                'ordering': ['fecha', 'id'],
            },
        ),
        migrations.CreateModel(
            name='IngresoProyecto',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha', models.DateField()),
                ('tipo', models.CharField(choices=[('senal', 'Señal / Arras'), ('venta', 'Venta'), ('anticipo', 'Anticipo'), ('devolucion', 'Devolución'), ('otro', 'Otro ingreso')], max_length=20)),
                ('concepto', models.CharField(max_length=255)),
                ('importe', models.DecimalField(decimal_places=2, help_text='Importe del ingreso (positivo o negativo)', max_digits=12)),
                ('imputable_inversores', models.BooleanField(default=True, help_text='Indica si el ingreso computa para inversores')),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('creado', models.DateTimeField(auto_now_add=True)),
                ('actualizado', models.DateTimeField(auto_now=True)),
                ('proyecto', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ingresos', to='core.proyecto')),
            ],
            options={
                'ordering': ['fecha', 'id'],
            },
        ),
        migrations.CreateModel(
            name='GastosProyectoEstimacion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('precio_escritura', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('estado_precio_escritura', models.CharField(default='estimado', max_length=10)),
                ('impuestos', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('estado_impuestos', models.CharField(default='estimado', max_length=10)),
                ('notaria', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('estado_notaria', models.CharField(default='estimado', max_length=10)),
                ('registro', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('estado_registro', models.CharField(default='estimado', max_length=10)),
                ('gestoria', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('estado_gestoria', models.CharField(default='estimado', max_length=10)),
                ('ibi', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('estado_ibi', models.CharField(default='estimado', max_length=10)),
                ('comunidad', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('estado_comunidad', models.CharField(default='estimado', max_length=10)),
                ('luz', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('estado_luz', models.CharField(default='estimado', max_length=10)),
                ('agua', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('estado_agua', models.CharField(default='estimado', max_length=10)),
                ('alarma', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('estado_alarma', models.CharField(default='estimado', max_length=10)),
                ('cerrajero', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('estado_cerrajero', models.CharField(default='estimado', max_length=10)),
                ('limpieza_vaciado', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('estado_limpieza_vaciado', models.CharField(default='estimado', max_length=10)),
                ('obra_reforma', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('estado_obra_reforma', models.CharField(default='estimado', max_length=10)),
                ('obra_materiales', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('estado_obra_materiales', models.CharField(default='estimado', max_length=10)),
                ('obra_mano_obra', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('estado_obra_mano_obra', models.CharField(default='estimado', max_length=10)),
                ('obra_tecnico', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('estado_obra_tecnico', models.CharField(default='estimado', max_length=10)),
                ('obra_licencias', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('estado_obra_licencias', models.CharField(default='estimado', max_length=10)),
                ('obra_contingencia', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('estado_obra_contingencia', models.CharField(default='estimado', max_length=10)),
                ('comercializacion', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('estado_comercializacion', models.CharField(default='estimado', max_length=10)),
                ('administracion', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('estado_administracion', models.CharField(default='estimado', max_length=10)),
                ('comision_inversure', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('estado_comision_inversure', models.CharField(default='estimado', max_length=10)),
                ('valor_transmision_estimado', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('creado', models.DateTimeField(auto_now_add=True)),
                ('actualizado', models.DateTimeField(auto_now=True)),
                ('proyecto', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='gastos_estimacion', to='core.proyecto')),
            ],
        ),
        migrations.CreateModel(
            name='GastoProyecto',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha', models.DateField()),
                ('categoria', models.CharField(choices=[('adquisicion', 'Adquisición'), ('reforma', 'Reforma'), ('seguridad', 'Seguridad'), ('operativos', 'Gastos operativos'), ('financieros', 'Financieros'), ('legales', 'Legales'), ('venta', 'Venta'), ('otros', 'Otros')], max_length=20)),
                ('concepto', models.CharField(max_length=255)),
                ('proveedor', models.CharField(blank=True, max_length=255, null=True)),
                ('importe', models.DecimalField(decimal_places=2, max_digits=12)),
                ('imputable_inversores', models.BooleanField(default=True, help_text='Indica si el gasto se imputa a los inversores')),
                ('estado', models.CharField(choices=[('estimado', 'Estimado'), ('confirmado', 'Confirmado')], default='estimado', max_length=15)),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('creado', models.DateTimeField(auto_now_add=True)),
                ('actualizado', models.DateTimeField(auto_now=True)),
                ('proyecto', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='gastos_proyecto', to='core.proyecto')),
            ],
            options={
                'ordering': ['fecha', 'id'],
            },
        ),
        migrations.CreateModel(
            name='FacturaGasto',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('archivo', models.FileField(upload_to='facturas_proyectos/%Y/%m/')),
                ('nombre_original', models.CharField(blank=True, max_length=255, null=True)),
                ('fecha_subida', models.DateTimeField(auto_now_add=True)),
                ('gasto', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='factura', to='core.gastoproyecto')),
            ],
        ),
        migrations.AddField(
            model_name='documentoproyecto',
            name='proyecto',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='documentos', to='core.proyecto'),
        ),
        migrations.CreateModel(
            name='DatosEconomicosProyecto',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('estado_operativo', models.CharField(choices=[('captacion', 'Captación'), ('comercializacion', 'Comercialización'), ('cierre', 'Cierre'), ('vendido', 'Vendido'), ('cancelado', 'Cancelado')], default='captacion', max_length=20)),
                ('fecha_estado', models.DateField(blank=True, null=True)),
                ('observaciones_estado', models.TextField(blank=True, null=True)),
                ('porcentaje_comercializacion', models.DecimalField(decimal_places=2, default=5, help_text='Porcentaje de comercialización sobre el beneficio bruto', max_digits=5)),
                ('porcentaje_administracion', models.DecimalField(decimal_places=2, default=5, help_text='Porcentaje de administración sobre el beneficio bruto', max_digits=5)),
                ('precio_compra_real', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('fecha_compra_real', models.DateField(blank=True, null=True)),
                ('tipo_adquisicion', models.CharField(blank=True, max_length=20, null=True)),
                ('impuesto_tipo', models.CharField(blank=True, max_length=10, null=True)),
                ('impuesto_porcentaje_real', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('impuesto_importe_real', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('notaria_real', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('registro_real', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('gestoria_real', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('otros_gastos_adquisicion_real', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('precio_venta_real', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('fecha_venta_real', models.DateField(blank=True, null=True)),
                ('gastos_venta_real', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('plusvalia_municipal_real', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('honorarios_agencia_real', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('tipo_comision_gestion', models.CharField(choices=[('porcentaje_beneficio', 'Porcentaje sobre beneficio'), ('porcentaje_ingresos', 'Porcentaje sobre ingresos'), ('importe_fijo', 'Importe fijo')], default='porcentaje_beneficio', max_length=30)),
                ('valor_comision_gestion', models.DecimalField(blank=True, decimal_places=2, max_digits=8, null=True)),
                ('creado', models.DateTimeField(auto_now_add=True)),
                ('actualizado', models.DateTimeField(auto_now=True)),
                ('proyecto', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='datos_economicos', to='core.proyecto')),
            ],
        ),
    ]
